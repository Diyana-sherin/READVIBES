<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Smooth Navbar</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700&family=Roboto:wght@300;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    #link {
      font-size: 20px;
    }

    #head {
      background-color: #d4a3a3;
      color: black;
    }

    .header {
      background-color: #d4a3a3;
    }

    a {
      color: black;
    }

    .sb-button {
      background-color: #b47a7a;
      border-radius: 15px;
      padding: 7px 16px;
      text-align: center;
      text-decoration: none;
      transition: all .2s ease;
    }

    .footer {
      background-color: #f8f9fa;
      padding: 20px 0;
      text-align: center;
    }

    .logo {
      font-weight: 700;
      color: #000000;
    }

    #link a:hover {
      color: #4a4848;
    }

    /* Navbar smooth transition when expanding */
    .navbar-collapse {
      transition: max-height 0.3s ease-in-out;
    }

    /* Remove max-height limit to allow full-height for larger screens */
    .navbar-collapse.show {
      max-height: 500px; 
    }

    @media (max-width: 991px) {
      .navbar-collapse {
        display: none;
      }

      .navbar-collapse.show {
        display: block;
      }
    }

    /* Fix for larger screens to always show navbar */
    @media (min-width: 992px) {
      .navbar-collapse {
        display: block !important;
      }
    }
  </style>
</head>

<body>
  <header class="header">
    <div class="container" id="head">
      <nav class="navbar navbar-expand-lg">
        <a class="navbar-brand" href="#">
          <h4 class="logo">READVIBES</h4>
        </a>
        <button class="navbar-toggler" type="button" id="navbarToggle">
          <span class="navbar-toggler-icon">
            <i class="fa fa-navicon" style="font-size:25px;color:rgba(0, 0, 0,.24)" id="toggleIcon"></i>
          </span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active" id="link">
              <a class="nav-link" href="/" style="color: #000000">Home</a>
            </li>
            <li class="nav-item" id="link">
              <a class="nav-link" href="#" style="color: #000000">About Us</a>
            </li>
            <li class="nav-item" id="link">
              <a class="nav-link" href="#" style="color: #000000">Contact Us</a>
            </li>
            <li class="nav-item" id="link">
              <a class="nav-link" href="/cart" style="color: #000000">
                <i class="fa fa-shopping-cart"></i> Cart
              </a>
            </li>
            <li class="nav-item" id="link">
              <a class="nav-link" href="/wishlist" style="color: #000000;">
                <i class="fa fa-heart"></i> Wishlist
              </a>
            </li>
               {{#if this}}
            <li class="nav-item dropdown" id="link">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                aria-expanded="false" style="color: #000000">
                <i class="fa fa-user"></i> User
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="/profile"><i class="fa fa-user"></i> Profile</a></li>
                <li><a class="dropdown-item" href="/wallet"><i class="fa fa-shopping-bag"></i> Wallet</a></li>
                <li><a class="dropdown-item" href="/availableCoupons"><i class="fa fa-tags"></i> Coupons</a></li>
                <li><a class="dropdown-item" href="/myorders"><i class="fa fa-cubes"></i> My Orders</a></li>
                <li onclick="confirmLogout()"><a class="dropdown-item" href="#"><i class="fa fa-sign-out"></i> Logout</a></li>
              </ul>
            </li>
            {{else}}

   <li class="nav-item" id="link">
              <a class="nav-link" href="/signup" style="color: #000000" >
                <i class="fa fa-user"></i> Signup
              </a>
            </li>

                {{/if}}
          </ul>
          <form action="/viewmore" method="GET" role="search-form">
            <div class="input-group">
              <input type="text" name="search" placeholder="What are you looking for..." class="form-control" id="search-query">
              <button class="btn bg-white" type="submit">
                <i class="search">search</i>
              </button>
            </div>
          </form>
        </div>
      </nav>
    </div>
  </header>

  

  <!-- jQuery and Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JavaScript to handle navbar toggle with smooth transition -->
  <script>
    $(document).ready(function () {
      $('#navbarToggle').on('click', function () {
        $('#navbarSupportedContent').toggleClass('show');
        const toggleIcon = $('#toggleIcon');

        // Toggle between navicon and times icon
        if (toggleIcon.hasClass('fa-navicon')) {
          toggleIcon.removeClass('fa-navicon').addClass('fa-times');
        } else {
          toggleIcon.removeClass('fa-times').addClass('fa-navicon');
        }
      });
    });
  </script>

   <script>
        async function confirmLogout(){
            try{
                const result = await Swal.fire({
                    title: 'Logout',
                    text: 'Do you want to Logout ',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'Yes',
                    cancelButtonText: 'No, cancel!',
                });

                if (result.isConfirmed) {
                
                    window.location.href = `/logout`;
                }
            }catch{
                console.error('Error during logout:', error);
            }
        }
    </script>
</body>

</html>
